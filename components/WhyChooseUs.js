'use client';
import { useEffect, useState } from 'react';
import Image from 'next/image';

export default function WhyChooseUs({ title, text }) {
    const [activeStep, setActiveStep] = useState(1);

    // Animate steps 1-6 in a loop
    useEffect(() => {
        const interval = setInterval(() => {
            setActiveStep(prev => (prev % 6) + 1);
        }, 1000); // Change every 1.5 seconds
        return () => clearInterval(interval);
    }, []);

    return (
        <>
            <div className="svgGraph">
                <svg width="597" height="594" viewBox="0 0 597 594" fill="none" xmlns="http://www.w3.org/2000/svg">
                    {/* STEP 6 */}
                    <g className="flowGroup point6">
                        <path
                            className="flowBg"
                            d="M205.562 171.897L200.829 128.481L236.128 154.216C253.284 146.751 272.018 142.233 291.738 141.447V0C187.814 2.35745 96.9062 57.561 45.4375 139.875L168.489 210.599C178.546 195.668 190.97 182.506 205.562 171.897Z"
                            fill={activeStep === 6 ? '#39ff14' : '#ACEDBB'}
                        />
                        <path className='flowBgText' d="M188.242 83.7391C187.989 82.5701 187.547 81.7012 186.915 81.1325C186.283 80.5322 185.382 80.232 184.213 80.232C182.412 80.232 181.117 81.0219 180.327 82.6017C179.537 84.1499 179.126 86.6144 179.095 89.9951C179.79 88.8893 180.785 88.0204 182.081 87.3885C183.408 86.7565 184.861 86.4406 186.441 86.4406C189.537 86.4406 192.018 87.4201 193.882 89.379C195.777 91.3379 196.725 94.071 196.725 97.5781C196.725 99.8846 196.251 101.907 195.304 103.645C194.387 105.382 193.029 106.741 191.228 107.72C189.458 108.7 187.357 109.19 184.924 109.19C180.059 109.19 176.678 107.673 174.782 104.64C172.886 101.575 171.938 97.1832 171.938 91.4643C171.938 85.4611 172.934 81.0061 174.924 78.0993C176.946 75.1609 180.169 73.6917 184.593 73.6917C186.962 73.6917 188.953 74.1656 190.564 75.1135C192.207 76.0298 193.439 77.2462 194.261 78.7628C195.114 80.2794 195.619 81.9382 195.777 83.7391H188.242ZM184.498 92.8387C183.139 92.8387 182.002 93.2495 181.085 94.071C180.201 94.8609 179.758 95.9983 179.758 97.4833C179.758 98.9999 180.169 100.185 180.991 101.038C181.844 101.891 183.044 102.317 184.593 102.317C185.983 102.317 187.073 101.907 187.863 101.085C188.684 100.232 189.095 99.0789 189.095 97.6255C189.095 96.1405 188.7 94.9715 187.91 94.1184C187.12 93.2653 185.983 92.8387 184.498 92.8387Z" fill="#0F1910" />

                    </g>

                    {/* STEP 5 */}
                    <g className="flowGroup point5">
                        <path
                            className="flowBg"
                            d="M143.246 314.527C145.612 335.154 151.923 354.407 161.585 371.891L38.731 442.615C21.1804 411.575 8.95413 376.999 3.62979 340.262C1.46061 326.117 0.474609 311.58 0.474609 296.846C0.474609 274.646 2.841 253.233 7.57375 232.409C14.0813 203.53 24.5327 176.223 38.731 151.273L161.585 221.997C151.923 239.285 145.612 258.734 143.246 279.361L140.288 280.737L103.215 297.042L134.766 310.794L143.246 314.527Z"
                            fill={activeStep === 5 ? '#39ff14' : '#ACEDBB'}
                        />
                        <path className='flowBgText' d="M74.4931 285.464H59.7062V292.005C60.3382 291.309 61.2228 290.741 62.3603 290.298C63.4977 289.856 64.73 289.635 66.057 289.635C68.4267 289.635 70.3856 290.172 71.9338 291.246C73.5136 292.321 74.6669 293.711 75.3936 295.417C76.1203 297.123 76.4836 298.971 76.4836 300.962C76.4836 304.659 75.441 307.597 73.3556 309.777C71.2703 311.926 68.3319 313 64.5404 313C62.0127 313 59.8168 312.573 57.9527 311.72C56.0885 310.836 54.6509 309.619 53.6399 308.071C52.6288 306.523 52.0759 304.738 51.9811 302.716H59.8958C60.0854 303.695 60.5435 304.517 61.2702 305.18C61.9969 305.812 62.9922 306.128 64.256 306.128C65.741 306.128 66.8469 305.654 67.5736 304.706C68.3003 303.758 68.6637 302.494 68.6637 300.915C68.6637 299.366 68.2845 298.182 67.5262 297.36C66.7679 296.539 65.6621 296.128 64.2087 296.128C63.1344 296.128 62.2497 296.396 61.5546 296.934C60.8595 297.439 60.4014 298.118 60.1802 298.971H52.3602V278.355H74.4931V285.464Z" fill="#0F1910" />

                    </g>

                    {/* STEP 4 */}
                    <g className="flowGroup point4">
                        <path
                            className="flowBg"
                            d="M200.829 465.197L205.562 421.781C190.97 411.172 178.546 398.01 168.489 382.883L45.4375 453.606C96.9062 535.92 187.814 591.124 291.738 593.481V452.035C272.018 451.249 253.284 446.73 236.128 439.265L200.829 465.197Z"
                            fill={activeStep === 4 ? '#39ff14' : '#ACEDBB'}
                        />
                        <path className='flowBgText' d="M164.322 506.839V500.298L179.299 478.877H188.351V499.825H192.237V506.839H188.351V513H180.247V506.839H164.322ZM180.815 487.787L172.853 499.825H180.815V487.787Z" fill="#0F1910" />

                    </g>

                    {/* STEP 3 */}
                    <g className="flowGroup point3">
                        <path
                            className="flowBg"
                            d="M431.943 377.586C421.491 394.874 407.49 410.001 391.32 421.985L396.053 465.401L360.754 439.665C343.598 447.131 324.864 451.649 305.145 452.435V593.882C411.434 591.524 504.117 533.767 554.994 448.506L431.943 377.586Z"
                            fill={activeStep === 3 ? '#39ff14' : '#ACEDBB'}
                        />
                        <path className='flowBgText' d="M401.417 490.166C401.543 486.785 402.649 484.178 404.735 482.346C406.82 480.513 409.648 479.597 413.218 479.597C415.588 479.597 417.61 480.008 419.285 480.829C420.991 481.651 422.27 482.772 423.123 484.194C424.008 485.616 424.45 487.211 424.45 488.981C424.45 491.066 423.929 492.772 422.886 494.099C421.844 495.395 420.627 496.279 419.237 496.753V496.943C421.038 497.543 422.46 498.539 423.503 499.929C424.545 501.319 425.067 503.104 425.067 505.284C425.067 507.243 424.608 508.981 423.692 510.498C422.807 511.983 421.496 513.152 419.758 514.005C418.052 514.858 416.014 515.284 413.645 515.284C409.853 515.284 406.82 514.352 404.545 512.488C402.302 510.624 401.117 507.812 400.991 504.052H408.858C408.889 505.442 409.284 506.548 410.043 507.37C410.801 508.16 411.907 508.554 413.36 508.554C414.593 508.554 415.54 508.207 416.204 507.512C416.899 506.785 417.247 505.837 417.247 504.668C417.247 503.152 416.757 502.062 415.777 501.398C414.83 500.703 413.297 500.355 411.18 500.355H409.664V493.768H411.18C412.792 493.768 414.087 493.499 415.066 492.962C416.078 492.393 416.583 491.398 416.583 489.976C416.583 488.839 416.267 487.954 415.635 487.322C415.003 486.69 414.134 486.374 413.029 486.374C411.828 486.374 410.927 486.738 410.327 487.464C409.758 488.191 409.427 489.091 409.332 490.166H401.417Z" fill="#0F1910" />

                    </g>

                    {/* STEP 2 */}
                    <g className="flowGroup point2">
                        <path
                            className="flowBg"
                            d="M561.305 157.164L438.254 227.887C446.142 243.604 451.466 261.088 453.438 279.358L493.469 296.843L453.438 314.327C451.269 332.597 446.142 349.885 438.254 365.798L561.305 436.521C583.589 394.873 596.407 347.331 596.407 296.843C596.407 246.354 583.589 198.812 561.305 157.164Z"
                            fill={activeStep === 2 ? '#39ff14' : '#ACEDBB'}
                        />
                        <path className='flowBgText' d="M516.848 307.507C517.923 306.654 518.412 306.259 518.318 306.322C521.414 303.763 523.847 301.662 525.616 300.019C527.417 298.376 528.934 296.654 530.166 294.853C531.398 293.052 532.014 291.298 532.014 289.592C532.014 288.297 531.714 287.286 531.114 286.559C530.514 285.832 529.613 285.469 528.412 285.469C527.212 285.469 526.264 285.927 525.569 286.843C524.905 287.728 524.574 288.992 524.574 290.635H516.754C516.817 287.949 517.385 285.706 518.46 283.905C519.566 282.104 521.003 280.777 522.773 279.924C524.574 279.071 526.564 278.644 528.744 278.644C532.504 278.644 535.332 279.608 537.228 281.535C539.155 283.463 540.119 285.975 540.119 289.071C540.119 292.452 538.965 295.595 536.659 298.502C534.352 301.377 531.414 304.189 527.844 306.938H540.64V313.526H516.848V307.507Z" fill="#0F1910" />

                    </g>

                    {/* STEP 1 */}
                    <g className="flowGroup point1">
                        <path
                            className="flowBg"
                            d="M396.055 128.488L391.322 171.904C407.492 183.888 421.493 199.014 431.945 216.302L554.799 145.579C503.922 60.318 411.436 2.36412 304.949 0.203125V141.65C324.669 142.436 343.403 146.954 360.559 154.419L396.055 128.488Z"
                            fill={activeStep === 1 ? '#39ff14' : '#ACEDBB'}
                        />
                        <path className='flowBgText' d="M408.28 85.9382V78.4026H421.408V113H412.972V85.9382H408.28Z" fill="#0F1910" />

                    </g>
                </svg>

                <Image id="image0_665_53712" src="/images/logo.png" width={600} height={600} alt="logo" />
            </div>

            {/* Text Steps */}
            <div className='whyChooseUsContent'>
                <div className={`step step-1 ${activeStep === 1 ? 'active' : ''}`}>
                    <h6>Assessment</h6>
                    <p>We begin by understanding your needs,<br /> goals, and technical environment</p>
                </div>
                <div className={`step step-2 ${activeStep === 2 ? 'active' : ''}`}>
                    <h6>Design</h6>
                    <p>Wireframes and prototypes shape the<br /> ideal user experience.</p>
                </div>
                <div className={`step step-3 ${activeStep === 3 ? 'active' : ''}`}>
                    <h6>Development</h6>
                    <p>Our engineers bring your solution to life<br /> using agile sprints.</p>
                </div>
                <div className={`step step-4 ${activeStep === 4 ? 'active' : ''}`}>
                    <h6>Testing</h6>
                    <p>Rigorous QA ensures functionality,<br /> security, and performance.</p>
                </div>
                <div className={`step step-5 ${activeStep === 5 ? 'active' : ''}`}>
                    <h6>Deployment</h6>
                    <p>We handle rollout, scaling</p>
                </div>
                <div className={`step step-6 ${activeStep === 6 ? 'active' : ''}`}>
                    <h6>Support</h6>
                    <p>We provide ongoing support as needed.</p>
                </div>
            </div>
        </>
    );
}
